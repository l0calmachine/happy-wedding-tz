<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div class="classic-audio-player">
            <audio id="classic-audio"></audio>
            <div class="controls">
                <button class="play-pause" title="Play/Pause">â–º</button>
                <button class="stop" title="Stop">â– </button>
                <div class="time-display">0:00</div>
                <input type="range" class="seek-slider" value="0" max="100">
                <button class="mute" title="Mute">ðŸ”Š</button><!-- U+1F50A + U+FE0E -->
            </div>
        </div>

        <img src="/images/cardstack-tz-trans.gif" alt="a hollerith punch card with a secret love letter to t+z" width="80%" id="hollerith">

        <p id="rotate-phone"><span class="arrow-rotate">â¤»</span> rotate your phone<span class="arrow-rotate">â¤º</span></p>

        <script>
            const audio = document.getElementById('classic-audio');
            const playPauseBtn = document.querySelector('.play-pause');
            const stopBtn = document.querySelector('.stop');
            const muteBtn = document.querySelector('.mute');
            const seekSlider = document.querySelector('.seek-slider');
            const volumeSlider = document.querySelector('.volume-slider');
            const timeDisplay = document.querySelector('.time-display');

            audio.src = '/sound/landscape-with-a-fairy.mp3';

            playPauseBtn.addEventListener('click', () => {
            if (audio.paused) {
                audio.play();
                playPauseBtn.textContent = 'âšâš';
            } else {
                audio.pause();
                playPauseBtn.textContent = 'â–º';
            }
            });

            stopBtn.addEventListener('click', () => {
            audio.pause();
            audio.currentTime = 0;
            playPauseBtn.textContent = 'â–º';
            });

            muteBtn.addEventListener('click', () => {
            audio.muted = !audio.muted;
            muteBtn.textContent = audio.muted ? 'ðŸ”‡' : 'ðŸ”Š';
            });

            volumeSlider.addEventListener('input', () => {
            audio.volume = volumeSlider.value / 100;
            });

            seekSlider.addEventListener('input', () => {
            const seekTime = audio.duration * (seekSlider.value / 100);
            audio.currentTime = seekTime;
            });

            audio.addEventListener('timeupdate', () => {
            if (audio.duration) {
                const value = (100 / audio.duration) * audio.currentTime;
                seekSlider.value = value;
                
                const minutes = Math.floor(audio.currentTime / 60);
                const seconds = Math.floor(audio.currentTime % 60);
                timeDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            }
            });

            audio.addEventListener('ended', () => {
            playPauseBtn.textContent = 'â–º';
            seekSlider.value = 0;
            });
        </script>
    </body>
</html>